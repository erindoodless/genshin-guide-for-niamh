<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adventure Guide</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Babel for JSX transformation -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- Import Map to handle module imports -->
    <script type="importmap">
    {
        "imports": {
            "react": "https://esm.sh/react@18.2.0",
            "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
            "lucide-react": "https://esm.sh/lucide-react@0.263.1"
        }
    }
    </script>
    <style>
        /* Custom scrollbar to match the clean aesthetic */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1; 
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8; 
        }
    </style>
</head>
<body class="bg-indigo-50">
    <div id="root"></div>

    <script type="text/babel" data-type="module">
        import React, { useState, useEffect } from 'react';
        import { createRoot } from 'react-dom/client';
        import { 
            Sword, 
            Sparkles, 
            ArrowUpCircle, 
            Zap, 
            Clock, 
            BookOpen, 
            Map, 
            Users, 
            Compass, 
            Star, 
            ExternalLink, 
            CheckCircle2, 
            Circle, 
            Gem, 
            Triangle, 
            Globe, 
            Smile, 
            Gift, 
            ThumbsUp, 
            Flame, 
            Leaf, 
            Hammer, 
            AlertOctagon, 
            Home, 
            Sprout, 
            Ghost, 
            Calendar, 
            Heart, 
            Utensils, 
            Backpack, 
            Search, 
            Camera, 
            Youtube, 
            Footprints, 
            Box, 
            Lock, 
            Skull, 
            RefreshCw, 
            Sun, 
            Moon, 
            Sunrise, 
            FileSpreadsheet 
        } from 'lucide-react';

        // --- STATIC DATA DEFINITIONS ---
        const DAILY_TASKS_DEF = [
            { id: 'commissions', label: 'Claim Daily Commissions (Katheryne)', icon: <Gem className="w-6 h-6 text-purple-500" /> },
            { id: 'expeditions', label: 'Reset Expeditions (Free Money)', icon: <Backpack className="w-6 h-6 text-slate-500" /> },
            { id: 'resin', label: 'Spend 160+ Resin (Ley Lines)', icon: <img src="https://static.wikia.nocookie.net/gensin-impact/images/8/8c/Item_Original_Resin.png/revision/latest?cb=20250618054908" alt="Resin" className="w-6 h-6 object-contain" /> },
            { id: 'teapot', label: 'Collect Teapot Coins', icon: <Home className="w-6 h-6 text-green-500" /> },
        ];

        const WEEKLY_TASKS_DEF = [
            { id: 'bounties', label: '3 City Bounties' },
            { id: 'requests', label: '3 City Requests' },
            { id: 'bosses', label: '3 Weekly Bosses (Half Cost)' },
            { id: 'transformer', label: 'Parametric Transformer' },
            { id: 'teapot_buy', label: 'Buy Resin/XP from Tubby' },
        ];

        const App = () => {
            const [activeTab, setActiveTab] = useState('philosophy');
            
            // --- STATE FOR INTERACTIVE CHECKLISTS ---
            const [checkedDaily, setCheckedDaily] = useState({});
            const [checkedWeekly, setCheckedWeekly] = useState({});

            // Load from local storage
            useEffect(() => {
                try {
                    const savedDaily = localStorage.getItem('genshinDailyChecked');
                    const savedWeekly = localStorage.getItem('genshinWeeklyChecked');
                    if (savedDaily) setCheckedDaily(JSON.parse(savedDaily));
                    if (savedWeekly) setCheckedWeekly(JSON.parse(savedWeekly));
                } catch (e) {
                    console.error("Error loading checklist state:", e);
                }
            }, []);

            // Save to local storage
            useEffect(() => {
                try {
                    localStorage.setItem('genshinDailyChecked', JSON.stringify(checkedDaily));
                    localStorage.setItem('genshinWeeklyChecked', JSON.stringify(checkedWeekly));
                } catch (e) {
                    console.error("Error saving checklist state:", e);
                }
            }, [checkedDaily, checkedWeekly]);

            const toggleDaily = (id) => {
                setCheckedDaily(prev => ({ ...prev, [id]: !prev[id] }));
            };

            const toggleWeekly = (id) => {
                setCheckedWeekly(prev => ({ ...prev, [id]: !prev[id] }));
            };

            const resetDailies = () => {
                if(window.confirm("Reset all daily tasks?")) {
                    setCheckedDaily({});
                }
            };

            // --- DYNAMIC TIME & DATE LOGIC ---
            const today = new Date();
            const dayName = today.toLocaleDateString('en-US', { weekday: 'long' });
            const hour = today.getHours();

            let GreetingIcon = Sun;
            let greetingText = "Good Afternoon";
            if (hour < 12) { GreetingIcon = Sunrise; greetingText = "Good Morning"; }
            else if (hour >= 18) { GreetingIcon = Moon; greetingText = "Good Evening"; }

            const getDayAdvice = () => {
                if (dayName === 'Sunday') return "It's Sunday! All domains are open. You can farm ANY material you want today!";
                return `It's ${dayName}. Remember: Weapon/Talent domains rotate daily. Check if your character's books are available before spending Resin!`;
            };

            // Simply worded priority list
            const priorityItems = [
                {
                    title: "1. Upgrade Weapons",
                    desc: "This is the #1 way to get stronger. Max out your main weapon first!",
                    icon: <img src="https://static.wikia.nocookie.net/gensin-impact/images/7/7b/Icon_Inventory_Weapons.png/revision/latest?cb=20210602080040" alt="Weapons" className="w-8 h-8 object-contain" />,
                    color: "border-blue-300 bg-blue-100 text-blue-900"
                },
                {
                    title: "2. Blue & Gold Balls",
                    desc: (
                        <div className="flex flex-col gap-2">
                        <span>Do the Ley Lines (Blue/Gold clouds) every day. You need the Money and XP books.</span>
                        <div className="flex gap-4 mt-1 bg-white/40 p-2 rounded-lg w-fit">
                            <div className="flex flex-col items-center">
                            <img src="https://static.wikia.nocookie.net/gensin-impact/images/b/bb/Ley_Line_Outcrop_Revelation.png/revision/latest/scale-to-width-down/1000?cb=20250322003504" alt="Blue Ley Line" className="w-12 h-12 object-contain drop-shadow-sm" />
                            <span className="text-[10px] font-bold uppercase text-blue-800">Blue (XP)</span>
                            </div>
                            <div className="flex flex-col items-center">
                            <img src="https://static.wikia.nocookie.net/gensin-impact/images/c/c1/Ley_Line_Outcrop_Wealth.png/revision/latest/scale-to-width-down/1000?cb=20250322003545" alt="Yellow Ley Line" className="w-12 h-12 object-contain drop-shadow-sm" />
                            <span className="text-[10px] font-bold uppercase text-yellow-800">Gold (Mora)</span>
                            </div>
                        </div>
                        </div>
                    ),
                    icon: <Zap className="text-yellow-600 w-8 h-8" />,
                    color: "border-yellow-300 bg-yellow-100 text-yellow-900"
                },
                {
                    title: "3. Level Up Talents",
                    desc: "These make your skills hit harder. Level them to 6 or higher.",
                    icon: <BookOpen className="text-purple-600 w-8 h-8" />,
                    color: "border-purple-300 bg-purple-100 text-purple-900"
                },
                {
                    title: "4. Artifacts (WAIT!)",
                    desc: "Don't farm these yet! Wait until you finish the AR 45 quest.",
                    icon: <Clock className="text-red-600 w-8 h-8" />,
                    color: "border-red-300 bg-red-100 text-red-900"
                }
            ];

            const coreFour = [
                { 
                    name: "Keqing", 
                    role: "Main Attacker", 
                    tip: "She hits fast with electricity! Use her with the Dendro Traveler to do big damage.", 
                    guideUrl: "https://keqingmains.com/q/keqing-quickguide/",
                    color: "bg-purple-100 border-purple-300 text-purple-900",
                    img: "https://static.wikia.nocookie.net/gensin-impact/images/5/52/Keqing_Icon.png/revision/latest?cb=20210213162751"
                },
                { 
                    name: "Durin", 
                    role: "Fire Support", 
                    tip: "Use his skills to set enemies on fire so others can react with it.", 
                    guideUrl: "https://www.ldshop.gg/blog/genshin-impact/durin-team.html",
                    color: "bg-red-100 border-red-300 text-red-900",
                    img: "https://static.wikia.nocookie.net/gensin-impact/images/b/ba/Durin_Icon.png/revision/latest?cb=20251203043105"
                },
                { 
                    name: "Qiqi", 
                    role: "Healer", 
                    tip: "She keeps you alive. Give her lots of 'ATK' stats to make her heal more.", 
                    guideUrl: "https://keqingmains.com/qiqi/",
                    color: "bg-blue-100 border-blue-300 text-blue-900",
                    img: "https://static.wikia.nocookie.net/gensin-impact/images/b/b3/Qiqi_Icon.png/revision/latest?cb=20220316020612"
                },
                { 
                    name: "Traveler (Dendro)", 
                    role: "Plant Support", 
                    tip: "Go to Sumeru to get this power. It makes Keqing very strong!", 
                    guideUrl: "https://keqingmains.com/q/dendro-traveler-quickguide/",
                    color: "bg-emerald-100 border-emerald-300 text-emerald-900",
                    img: "https://static.wikia.nocookie.net/gensin-impact/images/9/9c/Lumine_Icon.png/revision/latest?cb=20231214221939"
                }
            ];

            const resourceLinks = [
                { title: "Build Guides (KQM)", desc: "Best weapons and gear for every character.", url: "https://keqingmains.com/", icon: <Star className="text-yellow-600" />, color: "bg-yellow-50 border-yellow-200" },
                { title: "Wish Tracker", desc: "See how close you are to a 5-star character.", url: "https://paimon.moe/", icon: <Compass className="text-blue-600" />, color: "bg-blue-50 border-blue-200" },
                { title: "Genshin Wiki", desc: "Stuck on a quest? Find guides here.", url: "https://genshin-impact.wiki.gg/wiki/Genshin_Impact_Wiki", icon: <Search className="text-pink-600" />, color: "bg-pink-50 border-pink-200" },
                { title: "Enka.Network", desc: "Make cool character cards to show friends.", url: "https://enka.network/", icon: <Camera className="text-orange-600" />, color: "bg-orange-50 border-orange-200" }
            ];

            return (
                <div className="min-h-screen bg-indigo-50 p-3 md:p-6 font-sans text-slate-800 selection:bg-purple-200">
                <div className="max-w-4xl mx-auto">
                    
                    {/* Dynamic Header */}
                    <header className="bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-3xl p-6 md:p-8 mb-6 shadow-xl text-center relative overflow-hidden transition-all duration-500 hover:shadow-2xl">
                    <div className="relative z-10">
                        <div className="flex justify-center items-center gap-2 mb-2 opacity-90 font-medium">
                        <GreetingIcon className="w-5 h-5 animate-pulse" />
                        <span>{greetingText}, Traveler!</span>
                        </div>
                        <h1 className="text-3xl md:text-5xl font-extrabold mb-3 flex flex-col md:flex-row items-center justify-center gap-3 drop-shadow-md">
                        <Compass className="w-10 h-10 md:w-12 md:h-12 text-yellow-300 animate-bounce" />
                        <span>YOUR ADVENTURE GUIDE</span>
                        </h1>
                        <p className="text-blue-100 font-medium text-sm md:text-lg bg-white/20 inline-block px-4 py-1 rounded-full backdrop-blur-sm">
                        Today is {dayName}.
                        </p>
                    </div>
                    {/* Decorative Background Icons */}
                    <Sparkles className="absolute top-2 left-2 text-white/20 w-16 h-16 animate-spin-slow" />
                    <Star className="absolute bottom-2 right-2 text-white/20 w-24 h-24 rotate-12" />
                    </header>

                    {/* Mobile-Friendly Navigation */}
                    <div className="grid grid-cols-2 md:grid-cols-5 gap-2 md:gap-3 mb-8 sticky top-2 z-50 p-2 bg-indigo-50/90 backdrop-blur-sm rounded-xl shadow-lg border border-white/20">
                    {[
                        { id: 'philosophy', label: 'Start Here', icon: <Smile className="w-4 h-4" /> },
                        { id: 'daily', label: 'To-Do List', icon: <CheckCircle2 className="w-4 h-4" /> },
                        { id: 'corefour', label: 'My Team', icon: <Users className="w-4 h-4" /> },
                        { id: 'meta', label: 'Combat Tips', icon: <Sword className="w-4 h-4" /> },
                        { id: 'resources', label: 'Wishes & Links', icon: <Globe className="w-4 h-4" /> },
                    ].map((tab) => (
                        <button 
                        key={tab.id}
                        onClick={() => setActiveTab(tab.id)} 
                        className={`
                            flex flex-col md:flex-row items-center justify-center gap-1 md:gap-2 px-2 py-3 rounded-xl font-bold text-xs md:text-sm transition-all duration-300 border-2
                            ${activeTab === tab.id 
                            ? 'bg-white border-purple-500 text-purple-700 shadow-md scale-[1.02]' 
                            : 'bg-white border-transparent text-slate-500 hover:bg-purple-50 hover:scale-[1.02]'}
                        `}
                        >
                        {tab.icon}
                        {tab.label}
                        </button>
                    ))}
                    </div>

                    {/* Main Content Area */}
                    <div className="bg-white rounded-3xl shadow-xl p-5 md:p-10 border-4 border-white min-h-[500px] transition-all duration-500">
                    
                    {activeTab === 'philosophy' && (
                        <div className="animate-in fade-in zoom-in duration-300">
                        <h2 className="text-2xl md:text-3xl font-black mb-6 flex items-center gap-3 text-slate-800">
                            <Smile className="text-orange-500 w-8 h-8 md:w-10 md:h-10" />
                            What Should I Do?
                        </h2>
                        
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6 mb-8">
                            {/* Option A */}
                            <div className="p-6 bg-gradient-to-br from-sky-100 to-blue-50 rounded-2xl border-2 border-sky-200">
                            <h3 className="font-extrabold text-xl text-sky-900 mb-3 flex items-center gap-2">
                                <BookOpen className="text-sky-600" />
                                Just Want the Story?
                            </h3>
                            <p className="text-sky-800 text-sm md:text-base leading-relaxed">
                                If you only care about the story, <b>you can ignore this entire guide!</b> You no longer need to build characters or grind because the game now gives you strong <b>Trial Characters</b> for story quests.
                            </p>
                            </div>

                            {/* Option B */}
                            <div className="p-6 bg-gradient-to-br from-orange-100 to-amber-50 rounded-2xl border-2 border-orange-200">
                            <h3 className="font-extrabold text-xl text-orange-900 mb-3 flex items-center gap-2">
                                <Hammer className="text-orange-600" />
                                Want to Play "Properly"?
                            </h3>
                            <p className="text-orange-800 text-sm md:text-base leading-relaxed">
                                Only read the rest of this if you want to beat the Spiral Abyss or play "Meta." If you want to get strong, <b>stop fighting bosses alone</b> and focus on Ley Lines for now!
                            </p>
                            </div>
                        </div>

                        {/* Resin Dictionary */}
                        <h3 className="font-black text-2xl mb-4 text-slate-800 flex items-center gap-2">
                            <Zap className="text-yellow-500" />
                            Resin Dictionary (Important!)
                        </h3>
                        <div className="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                            
                            {/* Original Resin */}
                            <div className="p-4 bg-slate-50 border-2 border-slate-200 rounded-2xl">
                            <div className="flex items-center gap-2 mb-2">
                                <div className="bg-blue-100 p-2 rounded-full">
                                <img src="https://static.wikia.nocookie.net/gensin-impact/images/8/8c/Item_Original_Resin.png/revision/latest?cb=20250618054908" alt="Original Resin" className="w-4 h-4 object-contain" />
                                </div>
                                <span className="font-black text-slate-700">Original Resin</span>
                            </div>
                            <p className="text-xs md:text-sm text-slate-600">
                                Your daily energy. It refills over time (1 every 8 mins). Caps at 200. Use this for Ley Lines and Bosses!
                            </p>
                            </div>

                            {/* Condensed Resin */}
                            <div className="p-4 bg-yellow-50 border-2 border-yellow-200 rounded-2xl">
                            <div className="flex items-center gap-2 mb-2">
                                <div className="bg-yellow-100 p-2 rounded-full">
                                <img src="https://static.wikia.nocookie.net/gensin-impact/images/c/cd/Item_Condensed_Resin.png/revision/latest?cb=20210311055840" alt="Condensed Resin" className="w-4 h-4 object-contain" />
                                </div>
                                <span className="font-black text-yellow-800">Condensed Resin</span>
                            </div>
                            <p className="text-xs md:text-sm text-yellow-800">
                                Craft this at an Alchemy Table using 60 Resin + 1 Crystal Fly. It lets you get <b>double rewards</b> in half the time.
                            </p>
                            <p className="mt-2 text-[10px] bg-white/50 p-1 rounded font-bold uppercase text-yellow-900">
                                Tip: Use the "Crystalfly Trap" gadget to catch flies automatically!
                            </p>
                            </div>

                            {/* Fragile Resin */}
                            <div className="p-4 bg-red-50 border-2 border-red-200 rounded-2xl">
                            <div className="flex items-center gap-2 mb-2">
                                <div className="bg-red-100 p-2 rounded-full">
                                <img src="https://static.wikia.nocookie.net/gensin-impact/images/3/35/Item_Fragile_Resin.png/revision/latest?cb=20210106074218" alt="Fragile Resin" className="w-8 h-8 object-contain" />
                                </div>
                                <span className="font-black text-red-800">Fragile Resin</span>
                            </div>
                            <p className="text-xs md:text-sm text-red-800 font-bold">
                                SAVE UNTIL AFTER AR 45 TRIAL!
                            </p>
                            <p className="text-xs md:text-sm text-red-700 mt-1">
                                These look like crescent moons. Refills 60 energy. <b>Wait until you clear the AR 45 Ascension Quest</b>, then you can use them to farm powerful 5-star artifacts!
                            </p>
                            </div>

                        </div>

                        <div className="bg-green-50 border-2 border-green-200 p-5 rounded-2xl flex flex-col md:flex-row gap-4 items-center">
                            <div className="bg-green-100 p-3 rounded-full shrink-0"><Users className="text-green-600 w-6 h-6" /></div>
                            <div className="text-center md:text-left">
                                <h4 className="font-bold text-green-900 text-lg">Need Help? Ask Me!</h4>
                                <p className="text-green-800 text-sm md:text-base mt-1">
                                If you need items from a big boss, <b>don't struggle alone.</b> I can join your game and help you defeat them easily. Just ask!
                                </p>
                            </div>
                            </div>
                            
                            {/* Priority Items Section */}
                            <div className="mt-8">
                            <h3 className="font-black text-xl mb-4 text-slate-800 flex items-center gap-2 bg-slate-100 p-3 rounded-lg">
                                <ArrowUpCircle className="text-green-600" />
                                What to Upgrade First?
                            </h3>
                            <div className="space-y-3">
                                {priorityItems.map((item, idx) => (
                                <div key={idx} className={`p-4 border-l-8 rounded-r-xl shadow-sm ${item.color}`}>
                                    <div className="flex items-start gap-3">
                                    <div className="bg-white/50 p-2 rounded-full mt-1">{item.icon}</div>
                                    <div>
                                        <h4 className="font-black text-base md:text-lg">{item.title}</h4>
                                        <div className="text-xs md:text-sm font-medium opacity-90">{item.desc}</div>
                                    </div>
                                    </div>
                                </div>
                                ))}
                            </div>
                            </div>
                        </div>
                    )}

                    {activeTab === 'daily' && (
                        <div className="animate-in fade-in zoom-in duration-300">
                        <div className="flex justify-between items-center mb-6">
                            <h2 className="text-2xl md:text-3xl font-black text-slate-800 flex items-center gap-3">
                            <Clock className="text-pink-500 w-8 h-8 md:w-10 md:h-10" />
                            Interactive Checklist
                            </h2>
                            <button 
                            onClick={resetDailies}
                            className="text-xs font-bold text-slate-500 flex items-center gap-2 hover:text-slate-800 transition-colors bg-slate-100 px-3 py-2 rounded-lg"
                            >
                            <RefreshCw className="w-4 h-4" /> Reset Daily
                            </button>
                        </div>

                        {/* Day Notification */}
                        <div className={`p-4 mb-6 rounded-xl border-l-4 shadow-sm flex items-start gap-3 ${dayName === 'Sunday' ? 'bg-green-50 border-green-500 text-green-800' : 'bg-blue-50 border-blue-500 text-blue-800'}`}>
                            <Calendar className="w-6 h-6 shrink-0 mt-0.5" />
                            <div>
                            <h3 className="font-bold text-lg">Today is {dayName}</h3>
                            <p className="text-sm opacity-90">{getDayAdvice()}</p>
                            </div>
                        </div>
                        
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
                            
                            {/* DAILY TASKS */}
                            <div>
                            <h3 className="text-lg font-black text-slate-400 uppercase tracking-widest mb-3">Daily Must-Dos</h3>
                            <div className="space-y-3">
                                {DAILY_TASKS_DEF.map(task => (
                                <div 
                                    key={task.id}
                                    onClick={() => toggleDaily(task.id)}
                                    className={`
                                    cursor-pointer p-4 rounded-xl border-2 transition-all flex items-center gap-4 group
                                    ${checkedDaily[task.id] 
                                        ? 'bg-emerald-50 border-emerald-200 opacity-60' 
                                        : 'bg-white border-slate-200 hover:border-purple-300 hover:shadow-md'}
                                    `}
                                >
                                    <div className={`
                                    w-6 h-6 rounded-full border-2 flex items-center justify-center shrink-0 transition-colors
                                    ${checkedDaily[task.id] ? 'bg-emerald-500 border-emerald-500' : 'border-slate-300 group-hover:border-purple-400'}
                                    `}>
                                    {checkedDaily[task.id] && <CheckCircle2 className="w-4 h-4 text-white" />}
                                    </div>
                                    <div className="grow">
                                    <div className={`font-bold text-sm md:text-base ${checkedDaily[task.id] ? 'line-through text-slate-400' : 'text-slate-700'}`}>
                                        {task.label}
                                    </div>
                                    </div>
                                    <div className="shrink-0 opacity-80">{task.icon}</div>
                                </div>
                                ))}
                            </div>

                            {/* Explore Tip - Static */}
                            <div className="mt-4 p-4 bg-teal-50 border border-teal-200 rounded-xl flex items-center gap-3">
                                <Globe className="w-8 h-8 text-teal-600" />
                                <p className="text-xs text-teal-800 font-medium">Don't forget to <b>Explore!</b> Opening chests in any region gives Primogems and counts towards daily commissions.</p>
                            </div>
                            </div>

                            {/* WEEKLY TASKS */}
                            <div>
                            <h3 className="text-lg font-black text-slate-400 uppercase tracking-widest mb-3">Weekly Goals</h3>
                            <div className="space-y-3">
                                {WEEKLY_TASKS_DEF.map(task => (
                                <div 
                                    key={task.id}
                                    onClick={() => toggleWeekly(task.id)}
                                    className={`
                                    cursor-pointer p-4 rounded-xl border-2 transition-all flex items-center gap-4 group
                                    ${checkedWeekly[task.id] 
                                        ? 'bg-emerald-50 border-emerald-200 opacity-60' 
                                        : 'bg-slate-50 border-slate-200 hover:border-orange-300 hover:shadow-md'}
                                    `}
                                >
                                    <div className={`
                                    w-6 h-6 rounded-full border-2 flex items-center justify-center shrink-0 transition-colors
                                    ${checkedWeekly[task.id] ? 'bg-emerald-500 border-emerald-500' : 'border-slate-300 group-hover:border-orange-400'}
                                    `}>
                                    {checkedWeekly[task.id] && <CheckCircle2 className="w-4 h-4 text-white" />}
                                    </div>
                                    <div className={`font-bold text-sm md:text-base ${checkedWeekly[task.id] ? 'line-through text-slate-400' : 'text-slate-700'}`}>
                                    {task.label}
                                    </div>
                                </div>
                                ))}
                            </div>

                            {/* Monthly Reminder */}
                            <div className="mt-4 p-4 bg-pink-50 border border-pink-200 rounded-xl flex items-center gap-3">
                                <Star className="w-8 h-8 text-pink-600" />
                                <div>
                                <h4 className="font-bold text-pink-900 text-sm">Monthly Shop Reset</h4>
                                <p className="text-xs text-pink-800">Buy 5 Pink + 5 Blue Fates on the 1st!</p>
                                </div>
                            </div>
                            </div>

                        </div>

                        {/* Resin Card */}
                            <div className="mt-8 p-5 bg-gradient-to-r from-blue-500 to-indigo-500 text-white rounded-2xl shadow-lg transform hover:scale-[1.01] transition-transform">
                            <div className="flex items-center gap-4 mb-3">
                                <img src="https://static.wikia.nocookie.net/gensin-impact/images/8/8c/Item_Original_Resin.png/revision/latest?cb=20250618054908" alt="Original Resin" className="w-8 h-8 object-contain" />
                                <h3 className="font-black text-xl">SPEND YOUR ENERGY</h3>
                            </div>
                            <p className="text-blue-50 text-sm md:text-base font-medium mb-4">
                                Your energy caps at 200. If bosses are too hard, just do the <b>Ley Lines</b> (Blue/Gold clouds). They are fast, easy, and give you money!
                            </p>
                            <div className="flex flex-wrap gap-4 bg-white/10 p-3 rounded-xl border border-white/20">
                                <div className="flex items-center gap-3 bg-black/20 px-3 py-2 rounded-lg">
                                <img src="https://static.wikia.nocookie.net/gensin-impact/images/b/bb/Ley_Line_Outcrop_Revelation.png/revision/latest/scale-to-width-down/1000?cb=20250322003504" alt="Blue Ley Line" className="w-12 h-12 object-contain" />
                                <div className="flex flex-col">
                                    <span className="text-xs font-bold text-blue-100 uppercase">Blue Mist</span>
                                    <span className="text-[10px] text-blue-200">Gives Character XP</span>
                                </div>
                                </div>
                                <div className="flex items-center gap-3 bg-black/20 px-3 py-2 rounded-lg">
                                <img src="https://static.wikia.nocookie.net/gensin-impact/images/c/c1/Ley_Line_Outcrop_Wealth.png/revision/latest/scale-to-width-down/1000?cb=20250322003545" alt="Yellow Ley Line" className="w-12 h-12 object-contain" />
                                <div className="flex flex-col">
                                    <span className="text-xs font-bold text-yellow-100 uppercase">Gold Mist</span>
                                    <span className="text-[10px] text-yellow-200">Gives Mora $$$</span>
                                </div>
                                </div>
                            </div>
                            </div>

                        {/* Weekly Task & Teapot */}
                        <div className="mt-8 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-4">
                            
                            <div className="p-6 border-4 border-yellow-100 rounded-3xl bg-yellow-50">
                            <h3 className="font-black text-yellow-900 text-lg mb-4 flex items-center gap-2">
                                <Triangle className="rotate-180 fill-yellow-500 text-yellow-600 w-6 h-6" />
                                Weekly Reputation
                            </h3>
                            <div className="space-y-2">
                                <div className="bg-white px-3 py-2 rounded-xl border border-yellow-200 text-yellow-800 font-bold text-center shadow-sm text-sm">
                                3 Bounties
                                </div>
                                <div className="bg-white px-3 py-2 rounded-xl border border-yellow-200 text-yellow-800 font-bold text-center shadow-sm text-sm">
                                3 Requests
                                </div>
                            </div>
                            </div>

                            <div className="p-6 border-4 border-purple-100 rounded-3xl bg-purple-50">
                            <h3 className="font-black text-purple-900 text-lg mb-4 flex items-center gap-2">
                                <Skull className="text-purple-600 w-6 h-6" />
                                Weekly Bosses (x3)
                            </h3>
                            <p className="text-purple-800 text-xs font-medium mb-2">
                                Fight 3 major bosses (like Dvalin or Wolf) every week.
                            </p>
                            <div className="bg-white px-3 py-2 rounded-xl border border-purple-200 text-purple-800 font-bold text-center shadow-sm text-sm">
                                Costs 30 Resin (Half Price!)
                            </div>
                            </div>

                            <div className="p-6 border-4 border-green-100 rounded-3xl bg-green-50">
                            <h3 className="font-black text-green-900 text-lg mb-4 flex items-center gap-2">
                                <Home className="text-green-600 w-6 h-6" />
                                Serenitea Pot
                            </h3>
                            <ul className="text-green-800 space-y-2 text-sm">
                                <li className="flex gap-2 items-center"><Ghost className="w-4 h-4" /> Buy Resin & XP from Tubby</li>
                                <li className="flex gap-2 items-center"><Sprout className="w-4 h-4" /> Plant Flowers</li>
                            </ul>
                            </div>

                            <div className="p-6 border-4 border-cyan-100 rounded-3xl bg-cyan-50">
                            <h3 className="font-black text-cyan-900 text-lg mb-4 flex items-center gap-2">
                                <Box className="text-cyan-600 w-6 h-6" />
                                Transformer
                            </h3>
                            <p className="text-cyan-800 text-xs font-medium">
                                Use the <b>Parametric Transformer</b> gadget once a week. Put in 150 Mints/Berries, hit it with elements, get free loot!
                            </p>
                            </div>

                        </div>

                        {/* Monthly & Battle Pass */}
                        <div className="mt-4 grid grid-cols-1 md:grid-cols-2 gap-4">
                            
                            <div className="p-6 border-4 border-pink-100 rounded-3xl bg-pink-50">
                            <h3 className="font-black text-pink-900 text-lg mb-4 flex items-center gap-2">
                                <Star className="text-pink-600 w-6 h-6" />
                                Monthly Shop Reset
                            </h3>
                            <p className="text-pink-800 mb-2 text-xs font-medium">
                                On the <b>1st of every month</b>, go to the Shop (Paimon's Bargains).
                            </p>
                            <div className="bg-white px-3 py-2 rounded-xl border border-pink-200 text-pink-800 font-bold text-center shadow-sm text-sm">
                                Buy 5 Pink + 5 Blue Fates!
                            </div>
                            </div>

                            <div className="p-6 border-4 border-slate-200 rounded-3xl bg-slate-100">
                            <h3 className="font-black text-slate-800 text-lg mb-4 flex items-center gap-2">
                                <Sword className="text-slate-600 w-6 h-6" />
                                Battle Pass
                            </h3>
                            <p className="text-slate-700 mb-2 text-xs font-medium">
                                Even the free version gives great loot!
                            </p>
                            <ul className="text-slate-700 space-y-2 text-sm">
                                <li className="flex gap-2 items-center"><CheckCircle2 className="w-4 h-4" /> Claim Daily/Weekly Missions</li>
                                <li className="flex gap-2 items-center"><Gift className="w-4 h-4" /> Get Free Wishes & Resins</li>
                            </ul>
                            </div>

                        </div>
                        </div>
                    )}

                    {activeTab === 'corefour' && (
                        <div className="animate-in fade-in zoom-in duration-300">
                        <h2 className="text-2xl md:text-3xl font-black mb-6 text-slate-800 flex items-center gap-3">
                            <Users className="text-purple-500 w-8 h-8 md:w-10 md:h-10" />
                            Your Main Team
                        </h2>
                        
                        <div className="bg-red-50 border-l-4 border-red-500 p-4 mb-6 rounded-r-xl shadow-sm">
                            <h3 className="font-bold text-red-900 flex items-center gap-2 text-lg">
                            <AlertOctagon className="w-6 h-6" />
                            STRICT RULE: The "Focus" Policy
                            </h3>
                            <p className="text-red-800 text-sm md:text-base mt-2 leading-relaxed">
                            Do <b>NOT</b> level up other characters yet! Focus 100% of your resources on these 4 until they are fully built. If you try to build everyone at once, you will run out of books and gold and become too weak to fight!
                            </p>
                        </div>

                        <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-8">
                            {coreFour.map((char, idx) => (
                            <a 
                                key={idx} 
                                href={char.guideUrl}
                                target="_blank" 
                                rel="noopener noreferrer"
                                className={`block p-5 rounded-2xl border-2 shadow-sm ${char.color} relative overflow-hidden transition-all hover:scale-[1.02] hover:shadow-md group`}
                            >
                                <div className="flex justify-between items-start mb-2 relative z-10">
                                <div className="flex-1">
                                    <h3 className="font-black text-lg md:text-xl flex items-center gap-2 group-hover:underline decoration-2 underline-offset-2">
                                    {char.name}
                                    <ExternalLink className="w-4 h-4 opacity-60" />
                                    </h3>
                                    <span className="text-xs font-bold uppercase tracking-wider opacity-70 bg-white/50 px-2 py-1 rounded-md inline-block mt-1">{char.role}</span>
                                </div>
                                <div className="w-16 h-16 rounded-full overflow-hidden border-2 border-white shadow-md bg-white">
                                    <img 
                                    src={char.img} 
                                    alt={char.name} 
                                    className="w-full h-full object-cover"
                                    onError={(e) => {e.target.onerror = null; e.target.src="https://genshin-impact.wiki.gg/images/thumb/a/a2/Item_Unknown.png/100px-Item_Unknown.png"}}
                                    referrerPolicy="no-referrer"
                                    />
                                </div>
                                </div>
                                <p className="text-sm font-medium mt-2 relative z-10 leading-relaxed">{char.tip}</p>
                            </a>
                            ))}
                        </div>

                        <h3 className="font-black text-xl mb-4 text-slate-800 flex items-center gap-2 bg-slate-100 p-3 rounded-lg">
                            <ArrowUpCircle className="text-green-600" />
                            What to Upgrade First?
                        </h3>
                        <div className="space-y-3">
                            {priorityItems.map((item, idx) => (
                            <div key={idx} className={`p-4 border-l-8 rounded-r-xl shadow-sm ${item.color}`}>
                                <div className="flex items-center gap-3">
                                <div className="bg-white/50 p-2 rounded-full">{item.icon}</div>
                                <div>
                                    <h4 className="font-black text-base md:text-lg">{item.title}</h4>
                                    <div className="text-xs md:text-sm font-medium opacity-90">{item.desc}</div>
                                </div>
                                </div>
                            </div>
                            ))}
                        </div>
                        </div>
                    )}

                    {activeTab === 'meta' && (
                        <div className="animate-in fade-in zoom-in duration-300">
                        <h2 className="text-2xl md:text-3xl font-black mb-6 text-slate-800 flex items-center gap-3">
                            <Sword className="text-red-500 w-8 h-8 md:w-10 md:h-10" />
                            How to Fight Better
                        </h2>
                        
                        <div className="space-y-4 md:space-y-6">
                            
                            {/* Stamina Tip */}
                            <div className="p-5 bg-sky-50 rounded-2xl border-2 border-sky-200">
                            <h3 className="font-bold text-lg md:text-xl mb-2 flex items-center gap-2 text-sky-700">
                                <Footprints className="w-5 h-5" /> Run Farther & Climb Higher
                            </h3>
                            <p className="text-sky-900 text-sm md:text-base">
                                Hate running out of stamina? You need to find the floating <b>Anemoculi</b> (Mondstadt) and <b>Geoculi</b> (Liyue). Offer them to the Statues of the Seven to permanently increase your stamina bar!
                            </p>
                            </div>

                            {/* Free Healing Tip */}
                            <div className="p-5 bg-emerald-50 rounded-2xl border-2 border-emerald-200">
                            <h3 className="font-bold text-lg md:text-xl mb-2 flex items-center gap-2 text-emerald-700">
                                <Heart className="w-5 h-5" /> Free Healing (Statues)
                            </h3>
                            <p className="text-emerald-900 text-sm md:text-base">
                                Tired of eating apples? Teleport to a big "Statue of the Seven." Click "Statue's Blessing" and change the setting to <b>100%</b>. It will auto-heal you fully every time you teleport there!
                            </p>
                            </div>

                            {/* Lock Gear Tip */}
                            <div className="p-5 bg-stone-100 rounded-2xl border-2 border-stone-300">
                            <h3 className="font-bold text-lg md:text-xl mb-2 flex items-center gap-2 text-stone-700">
                                <Lock className="w-5 h-5" /> LOCK YOUR GOOD GEAR!
                            </h3>
                            <p className="text-stone-800 text-sm md:text-base">
                                If you get a 4-star or 5-star weapon/artifact that looks cool, click the <b>Lock Icon</b> immediately! It prevents you from accidentally destroying it when you are upgrading other items.
                            </p>
                            </div>

                            {/* NRE / Food Bag Tip */}
                            <div className="p-5 bg-orange-50 rounded-2xl border-2 border-orange-200">
                            <h3 className="font-bold text-lg md:text-xl mb-2 flex items-center gap-2 text-orange-700">
                                <Utensils className="w-5 h-5" /> Get the "NRE" Bag (Life Saver!)
                            </h3>
                            <p className="text-orange-900 text-sm md:text-base">
                                Reach Reputation Level 5 in Mondstadt to get the NRE gadget recipe. It lets you eat food instantly by pressing 'Z' without opening your menu. It stops you from dying in panic moments!
                            </p>
                            </div>

                            {/* Tip 1 */}
                            <div className="p-5 bg-rose-50 rounded-2xl border-2 border-rose-200">
                            <h3 className="font-bold text-lg md:text-xl mb-2 flex items-center gap-2 text-rose-700">
                                <Clock className="w-5 h-5" /> Don't Mash Buttons!
                            </h3>
                            <p className="text-rose-900 text-sm md:text-base">
                                You can't trigger reactions (like burning or freezing) on every single hit. There is a hidden timer. Try to use your skills in a rhythm instead of just spamming!
                            </p>
                            </div>

                            {/* Tip 2 */}
                            <div className="p-5 bg-teal-50 rounded-2xl border-2 border-teal-200">
                            <h3 className="font-bold text-lg md:text-xl mb-2 flex items-center gap-2 text-teal-700">
                                <Gift className="w-5 h-5" /> Recycle Bad Artifacts
                            </h3>
                            <p className="text-teal-900 text-sm md:text-base">
                                Don't use gold artifacts to level up other artifacts! Take your bad gold artifacts to the crafting bench and use the <b>"Strongbox"</b> to turn 3 bad ones into 1 new one.
                            </p>
                            </div>

                            {/* Tip 3 */}
                            <div className="p-5 bg-indigo-50 rounded-2xl border-2 border-indigo-200">
                            <h3 className="font-bold text-lg md:text-xl mb-2 flex items-center gap-2 text-indigo-700">
                                <ThumbsUp className="w-5 h-5" /> Ask for Help!
                            </h3>
                            <p className="text-indigo-900 text-sm md:text-base">
                                If a domain is too hard, use the "Match" button to play with others, or just message me! Veterans love helping new players.
                            </p>
                            </div>
                        </div>
                        </div>
                    )}

                    {activeTab === 'resources' && (
                        <div className="animate-in fade-in zoom-in duration-300">
                        
                        <h2 className="text-2xl md:text-3xl font-black mb-6 text-slate-800 flex items-center gap-3">
                            <Map className="text-emerald-600 w-8 h-8 md:w-10 md:h-10" />
                            Interactive Map
                        </h2>
                        <div className="w-full h-[400px] rounded-2xl overflow-hidden shadow-lg border-2 border-emerald-200 bg-slate-100 mb-10">
                            <iframe src="https://genshin-impact-map.appsample.com" height="100%" width="100%" frameBorder="0" title="Genshin Impact Map"></iframe>
                        </div>

                        <h2 className="text-2xl md:text-3xl font-black mb-6 text-slate-800 flex items-center gap-3">
                            <FileSpreadsheet className="text-emerald-600 w-8 h-8 md:w-10 md:h-10" />
                            Community Builds Sheet
                        </h2>
                        <div className="w-full h-[600px] rounded-2xl overflow-hidden shadow-lg border-2 border-emerald-200 bg-slate-100 mb-10">
                            <iframe src="https://docs.google.com/spreadsheets/d/1gNxZ2xab1J6o1TuNVWMeLOZ7TPOqrsf3SshP5DLvKzI/preview" height="100%" width="100%" frameBorder="0" title="Community Builds Spreadsheet"></iframe>
                        </div>

                        <h2 className="text-2xl md:text-3xl font-black mb-6 text-slate-800 flex items-center gap-3">
                            <Gift className="text-purple-500 w-8 h-8 md:w-10 md:h-10" />
                            How Wishes Work
                        </h2>

                        <div className="bg-slate-900 text-white p-6 rounded-2xl mb-8 relative overflow-hidden">
                            <Star className="absolute top-0 right-0 w-32 h-32 opacity-10 text-yellow-500" />
                            <div className="relative z-10 space-y-4">
                            <div>
                                <h3 className="text-yellow-400 font-black text-xl flex items-center gap-2"><Star className="fill-yellow-400 w-5 h-5" /> The Magic Number 75 (Soft Pity)</h3>
                                <p className="text-slate-300 text-sm mt-1">
                                You are guaranteed a 5-star at 90 wishes ("Hard Pity"). BUT, the odds get super high at <b>75 wishes</b>. Save your Primogems until you have about 150-160 wishes to guarantee the character you want!
                                </p>
                            </div>
                            <div className="border-t border-slate-700 pt-4">
                                <h3 className="text-blue-400 font-black text-xl flex items-center gap-2"><AlertOctagon className="w-5 h-5" /> The "50/50" Coin Flip</h3>
                                <p className="text-slate-300 text-sm mt-1">
                                When you see a gold light, there is a 50% chance it is the character on the banner, and a 50% chance it is a standard character (like Qiqi or Diluc). If you lose, your NEXT 5-star is guaranteed to be the banner character.
                                </p>
                            </div>
                            </div>
                        </div>

                        <h2 className="text-2xl md:text-3xl font-black mb-6 text-slate-800 flex items-center gap-3">
                            <Globe className="text-blue-500 w-8 h-8 md:w-10 md:h-10" />
                            Helpful Websites
                        </h2>
                        <div className="grid gap-4">
                            {resourceLinks.map((link, idx) => (
                            <a key={idx} href={link.url} target="_blank" rel="noopener noreferrer" className={`flex items-center justify-between p-4 md:p-6 rounded-2xl border-2 transition-all shadow-sm active:scale-95 ${link.color} hover:bg-white`}>
                                <div className="flex gap-4 items-center">
                                <div className="bg-white p-3 rounded-full shadow-sm">{link.icon}</div>
                                <div>
                                    <p className="font-black text-slate-800 text-lg">{link.title}</p>
                                    <p className="text-xs md:text-sm text-slate-600 font-medium">{link.desc}</p>
                                </div>
                                </div>
                                <ExternalLink className="w-5 h-5 text-slate-400" />
                            </a>
                            ))}
                        </div>

                        <h2 className="text-2xl md:text-3xl font-black mb-6 mt-10 text-slate-800 flex items-center gap-3">
                            <Youtube className="text-red-600 w-8 h-8 md:w-10 md:h-10" />
                            Best YouTube Guides
                        </h2>
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <a 
                            href="https://www.youtube.com/@KyostinV" 
                            target="_blank" 
                            rel="noopener noreferrer"
                            className="block p-5 border-2 border-slate-200 rounded-2xl bg-slate-50 hover:bg-white hover:shadow-md transition-all group"
                            >
                            <h3 className="font-bold text-lg flex items-center gap-2 group-hover:text-red-600 transition-colors">
                                KyostinV <ExternalLink className="w-4 h-4 opacity-50" />
                            </h3>
                            <p className="text-sm text-slate-600 mt-2">The BEST for quest guides and finding chests. No nonsense, just shows you where to go.</p>
                            </a>
                            
                            <a 
                            href="https://www.youtube.com/@Zy0x" 
                            target="_blank" 
                            rel="noopener noreferrer"
                            className="block p-5 border-2 border-slate-200 rounded-2xl bg-slate-50 hover:bg-white hover:shadow-md transition-all group"
                            >
                            <h3 className="font-bold text-lg flex items-center gap-2 group-hover:text-red-600 transition-colors">
                                Zy0x <ExternalLink className="w-4 h-4 opacity-50" />
                            </h3>
                            <p className="text-sm text-slate-600 mt-2">The most detailed character guides on YouTube. He explains exactly why a build works and how to play perfectly.</p>
                            </a>
                        </div>
                        </div>
                    )}

                    </div>

                    {/* Footer */}
                    <footer className="mt-8 text-center text-slate-400 text-xs font-bold uppercase tracking-widest pb-8">
                    Adventure Guide  Made for You
                    </footer>
                </div>
                </div>
            );
        };

        const root = createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
